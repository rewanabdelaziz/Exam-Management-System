<div class="back mb-1 p-2" routerLink="/doctorDashboard/exams" (click)=" back()">
  <i class="fa-solid fa-arrow-left"></i> <span class="ms-2">Back to exams</span>
</div>
@if(currentExam()){
<div class="container-fluid min-vh-100 bg-light d-flex align-items-center justify-content-center p-4">
  <div class="card shadow-sm border-0 w-100" style="max-width: 800px; border-radius: 15px; overflow: hidden;">
    
    <div class="card-header bg-primary text-white p-4 border-0 d-flex align-items-center">
      <div class="bg-white bg-opacity-25 p-3 rounded-3 me-3">
        <i class="fa-solid fa-file-signature fa-2x"></i>
      </div>
      <div>
        <h2 class="h4 mb-1 fw-bold">{{ currentExam()?.title }}</h2>
        <p class="mb-0 text-white-50">{{ currentExam()?.description }}</p>
      </div>
    </div>

    <div class="card-body p-4 p-md-5">
      <div class="row g-3 mb-4 text-center">

        <div class="col-4">
            <div class="p-3 border rounded-4 bg-light shadow-sm h-100">
              <i class="fa-solid fa-file-lines text-primary fs-4 mb-2"></i>
              <div class="h5 mb-0 fw-bold text-dark">{{ currentExam()?.totalQuestions }}</div>
              <small class="text-muted d-block" style="font-size: 0.8rem;">Questions</small>
            </div>
        </div>

         <div class="col-4">
            <div class="p-3 border rounded-4 bg-light shadow-sm h-100">
              <i class="fa-regular fa-clock text-primary fs-4 mb-2"></i>
              <div class="h5 mb-0 fw-bold text-dark">{{ currentExam()?.duration }}</div>
              <small class="text-muted d-block" style="font-size: 0.8rem;">Minutes</small>
            </div>
        </div>

         <div class="col-4">
            <div class="p-3 border rounded-4 bg-light shadow-sm h-100">
              <i class="fa-solid fa-circle-check text-primary fs-4 mb-2"></i>
              <div class="h5 mb-0 fw-bold text-dark">{{ currentExam()?.passingScore }}</div>
              <small class="text-muted d-block" style="font-size: 0.8rem;">Passing Score</small>
            </div>
        </div>
        
      </div>

      <h3 class="h5 fw-bold text-dark mb-4">Instructions</h3>
      <div class="instructions-list mb-4">
        @for(note of instructions; track $index; let i = $index) {
          <div class="d-flex align-items-start mb-3">
            <span class="badge rounded-circle bg-primary-subtle text-primary d-flex align-items-center justify-content-center me-3" 
                  style="width: 25px; height: 25px; min-width: 25px; font-weight: 600;">
              {{ i + 1 }}
            </span>
            <p class="mb-0 text-secondary small">{{ note }}</p>
          </div>
        }
      </div>

      <div class="alert alert-warning border-0 d-flex align-items-start p-3 mb-4" role="alert" style="background-color: #fff9f0;">
        <i class="fa-solid fa-circle-exclamation text-warning me-3 mt-1 fs-5"></i>
        <div>
          <strong class="d-block text-dark small">Important</strong>
          <span class="text-muted small" style="font-size: 0.75rem;">
            Make sure you have a stable internet connection. The exam will automatically submit when the timer reaches zero.
          </span>
        </div>
      </div>

      <div class="d-flex gap-2">
        <button (click)="startExam()" class="btn btn-primary btn-lg flex-grow-1 fw-semibold py-3 border-0" style="border-radius: 12px;">
          Start Exam
        </button>
        <button (click)="back()" class="btn btn-outline-secondary btn-lg px-5 fw-semibold border-1" style="border-radius: 12px;">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
}@else {
    <div class="text-center p-5">
            <p>this Exam is not available.</p>
    </div>
}